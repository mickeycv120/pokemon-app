<div class="min-h-screen flex flex-col">
  <!-- Contenido principal -->
  <div class="flex-grow">
    <div
      class="grid grid-cols-1 gap-6 justify-items-center min-[640px]:grid-cols-2 min-[1024px]:grid-cols-3 min-[1400px]:grid-cols-4 p-4"
    >
      @if (isLoading()) {
      <div class="col-span-full text-center py-8">
        <div
          class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"
        ></div>
        <p class="mt-2 text-gray-600">Cargando Pokémon...</p>
      </div>
      } @else if (detailedPokemons().length === 0 && !isLoading()) {
      <div class="col-span-full text-center py-8">
        <p class="text-gray-600">No se encontraron Pokémon.</p>
      </div>
      } @else { @for (pokemon of detailedPokemons(); track pokemon.id) {
      <character-card [pokemon]="pokemon" class="block"></character-card>
      } }
    </div>
  </div>

  <!-- Controles de paginación -->
  @if (pokemons().count > 0) {
  <div
    class="flex justify-center items-center gap-4 p-4 bg-[var(--secondary)] border-t border-gray-200 -mx-4 h-25 mt-10"
  >
    <button
      (click)="onPageChange(currentPage() - 1)"
      [disabled]="!pokemons().previous || isLoading()"
      class="px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-[var(--accent)] disabled:opacity-50 disabled:cursor-not-allowed"
    >
      Anterior
    </button>

    <div class="flex items-center gap-2">
      <span class="text-gray-700">Página</span>
      <span class="font-medium">{{ currentPage() }}</span>
      <span class="text-gray-500">de</span>
      <span class="font-medium">{{ totalPages() }}</span>
    </div>

    <button
      (click)="onPageChange(currentPage() + 1)"
      [disabled]="!pokemons().next || isLoading()"
      class="px-4 py-2 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-[var(--accent)] disabled:opacity-50 disabled:cursor-not-allowed"
    >
      Siguiente
    </button>
  </div>
  }
</div>
